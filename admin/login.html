<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Admin Login</title>
	<link rel="stylesheet" href="css/admin-login.css" />
</head>
<body>

<div class="admin-auth-container">
	<div class="admin-auth-card">
		<h2>Admin Login</h2>
		<p class="subtitle">WholesaleSys Administration</p>

		<form id="adminLoginForm">
			<div class="form-group">
				<label>Username</label>
				<input type="text" id="username" required>
			</div>

			<div class="form-group">
				<label>Password</label>
				<input type="password" id="password" required>
			</div>

			<button type="submit" class="btn-primary">Login</button>
		</form>

		<div id="message"></div>
	</div>
</div>

<script>
document.getElementById('adminLoginForm').addEventListener('submit', async function (e) {
	e.preventDefault();

	const username = document.getElementById('username').value;
	const password = document.getElementById('password').value;

	try {
		const response = await fetch('/api/admin/login', {
			method: 'POST',
			headers: { 'Content-Type': 'application/json' },
			body: JSON.stringify({ username, password })
		});

		const result = await response.json();

		if (response.ok) {
			document.getElementById('message').textContent = 'Login successful';
			document.getElementById('message').className = 'success-message';
			// window.location.href = 'dashboard.html';
		} else {
			document.getElementById('message').textContent = result.error || 'Invalid credentials';
			document.getElementById('message').className = 'error-message';
		}
	} catch {
		document.getElementById('message').textContent = 'Server error';
		document.getElementById('message').className = 'error-message';
	}
});
</script>

</body>
</html>
