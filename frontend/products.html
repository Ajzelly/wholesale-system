<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Our Products | Kimusho</title>

  <link rel="stylesheet" href="css/style.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
  />
</head>

<body>

<header class="navbar">
  <div class="logo">kimusho<span>w/s</span></div>

  <nav class="nav-links">
    <a href="dashboard.html">Dashboard</a>
    <a href="products.html" class="active">Products</a>
    <a href="cart.html">Cart</a>
    <a href="profile.html">Profile</a>

    <!-- Guest -->
    <a href="login.html" id="loginLink">Login</a>
    <a href="register.html" id="registerLink" class="nav-btn outline">Register</a>

    <!-- Logged in user -->
    <span id="userArea" class="user-area" style="display:none;">
      <span id="username"></span>
      <button onclick="logout()" class="logout-btn">Logout</button>
    </span>
  </nav>
</header>


<section class="section-container">
  <h2 class="section-title">Our Products</h2>
  <!-- Modern Search Bar -->
  <div class="search-bar-container">
    <input type="text" id="product-search" placeholder="Search products..." autocomplete="off" />
    <span class="search-icon" id="search-icon" style="cursor:pointer;"><i class="fas fa-search"></i></span>
    <div id="autocomplete-list" class="autocomplete-items"></div>
  </div>
  <style>
    .autocomplete-items {
      position: absolute;
      top: 48px;
      left: 50%;
      transform: translateX(-50%);
      width: 350px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 0 0 16px 16px;
      box-shadow: 0 4px 16px rgba(26,35,126,0.08);
      z-index: 10;
      max-height: 220px;
      overflow-y: auto;
      display: none;
    }
    .autocomplete-item {
      padding: 10px 18px;
      cursor: pointer;
      color: #1a237e;
      font-size: 1rem;
      border-bottom: 1px solid #f0f0f0;
      background: #fff;
      transition: background 0.15s;
    }
    .autocomplete-item:last-child {
      border-bottom: none;
    }
    .autocomplete-item:hover, .autocomplete-item.active {
      background: #e3e8fa;
    }
  </style>
  <div class="product-grid" id="productGrid"></div>
</section>
</body>
</html>

<style>
  .search-bar-container {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 24px 0 16px 0;
    position: relative;
  }
  .search-bar-container input[type="text"] {
    width: 350px;
    padding: 12px 40px 12px 16px;
    border: 1.5px solid #1a237e;
    border-radius: 24px;
    font-size: 1.1rem;
    background: #f5f7fa;
    color: #1a237e;
    outline: none;
    transition: box-shadow 0.2s;
    box-shadow: 0 2px 8px rgba(26,35,126,0.07);
  }
  .search-bar-container input[type="text"]:focus {
    box-shadow: 0 4px 16px rgba(26,35,126,0.13);
    border-color: #3949ab;
  }
  .search-bar-container .search-icon {
    position: absolute;
    right: 32px;
    color: #3949ab;
    font-size: 1.2rem;
    pointer-events: none;
  }
</style>

<footer>
  <p>&copy; 2026 Kimusho Wholesale System</p>
</footer>

<!-- AUTH -->
<script src="js/auth.js"></script>

<script>
  // Protect page
  requireAuth();

  // Navbar logic
  document.addEventListener("DOMContentLoaded", () => {
    const user = getUser();

    if (user) {
      document.getElementById("username").textContent = user.username;
      document.getElementById("userArea").style.display = "flex";
      document.getElementById("loginLink").style.display = "none";
      document.getElementById("registerLink").style.display = "none";
    }
  });
</script>


<!-- PRODUCTS LOGIC -->
<script src="js/products.js"></script>

</body>
</html>
